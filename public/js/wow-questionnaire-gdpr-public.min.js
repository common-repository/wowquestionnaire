!function(f){"use strict";document.addEventListener("gesturestart",function(e){e.preventDefault()});var b=window.intlTelInputGlobals.getCountryData(),e=window.countryRegionData,h={};f.each(e,function(e,t){var s=t.countryShortCode;h[s]={},h[s].country=t.countryName,h[s].code=t.countryShortCode,h[s].regions={},f.each(t.regions,function(e,t){var a=t.name;h[s].regions[a]=t}),h[s].small=t.countryName.toLowerCase()});var t="wowqdpr-ac";function r(e){var t=window.location.href;if(1<t.split("?rid=").length)var a=(t=t.split("&tab="))[0]+"&tab="+e;else a=(t=t.split("?tab="))[0]+"?tab="+e;window.history.pushState("data","Title",a)}function n(){var e=window.location.hostname,t=e.split("."),a=e;return"www"==t[0]&&(a=e.replace("www.","")),a}function a(l,o){f("#wowq-pinwrapper").hide(),f(".wowq-swal2-verify .wowq-pinlogin-error").addClass("hidden"),f(".wowq-swal2-verify #swal2-title").text("Verifying..."),swal.showLoading();var e=n(),t={ajax_nonce:wowq_gdpr_admin_urls.ajax_nonce,action:"gdpr_verify",host:e,pin:l,rid:o};f.ajax({url:wowq_gdpr_admin_urls.admin_ajax,type:"post",data:t,dataType:"json",success:function(e){var t,a,s;f("#wowq-pinwrapper").show(),e.response?e.response.status?(a=l,s=o,sessionStorage.wowqpin=a,sessionStorage.wowqrid=s,t=e.response.data.wowq_user,f("#wowqgpdr-user-fname").val(t.first_name),f(".wowq-swal2-verify #swal2-title").text("Verified!"),swal({title:"Generating...",allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}),swal.showLoading(),function(e){f("#wowqgdpr-email").val(e.response.data.user_info.requestor),f("#wowqgdpr-content").removeClass("hidden");var s=f("#wowqgdpr-tab"),l=f("#wowqgdpr-tab-content"),t=e.response.data.user_info,o="",i="",d="";f.each(t,function(e,t){var a="wowqgdpr-"+e;switch(e){case"ac":d=function(e,t){var a=f("#wowqgdpr-rid").val(),s="";-1<t.tags.indexOf("GDPR_OPT_OUT")&&(s+='<div class="alert alert-optout">',s+="YOU OPTED OUT OF THIS",s+="</div>");return s+='<form id="'+e+'-form" class="form-horizontal maonster-form">',s+='<div class="form-group">',s+='<label class="col-sm-2 control-label">Email</label>',s+='<div class="col-sm-4">',s+='<p style="padding-top: 7px !important;padding-bottom: 0 !important;">',s+=t.email,s+="</p>",s+="</div>",s+='<div class="col-sm-4">',s+='<p style="padding-top: 7px !important;padding-bottom: 0 !important;"><small><i>',s+="If you need to update your email address, please email us about this - unfortunately the integration with your CRMs will not allow us to do this automatically.",s+="</i></small></p>",s+="</div>",s+="</div>",s+='<div class="form-group">',s+='<label for="'+e+'-fname" class="col-sm-2 control-label">First Name</label>',s+='<div class="col-sm-10">',s+='<input type="text" class="form-control maonster-name" id="'+e+'-fname" placeholder="First Name" value="'+t.fname+'">',s+="</div>",s+="</div>",s+='<div class="form-group">',s+='<label for="'+e+'-lname" class="col-sm-2 control-label">Last Name</label>',s+='<div class="col-sm-10">',s+='<input type="text" class="form-control maonster-name" id="'+e+'-lname" placeholder="Last Name" value="'+t.lname+'">',s+="</div>",s+="</div>",s+='<div class="form-group">',s+='<label for="'+e+'-phone" class="col-sm-2 control-label">Phone</label>',s+='<div class="col-sm-6">',s+='<input type="tel" class="form-control maonster-phone '+e+'-phone" id="'+e+'-phone" placeholder="" value="'+t.phone+'">',s+="</div>",s+="</div>",s+='<div class="form-group">',s+='<label class="col-sm-2 control-label">Date Added</label>',s+='<div class="col-sm-10">',s+='<p style="padding-top: 7px !important;padding-bottom: 0 !important;">',s+=t.added,s+="</p>",s+="</div>",s+="</div>",s+='<div class="form-group">',s+='<label class="col-sm-2 control-label">&nbsp;</label>',s+='<div class="col-sm-10 text-right">',s+='<button data-wowqcrm="ac" data-rid="'+a+'" class="wowqgdpr-update maonster-submit btn btn-default btn-success" style="margin: 5px 0;">',s+="Update Data",s+="</button>&nbsp;",s+='<button data-wowqcrm="ac" data-rid="'+a+'" class="wowqgdpr-remove btn btn-primary" style="margin: 5px 0;">',s+="Remove Me From Your ActiveCampaign",s+="</button>",s+="</div>",s+="</div>",s+="</form>"}(a,t),o=c(a,"ActiveCampaign"),i=p(a,d),f(s).append(o),f(l).append(i);break;case"aw":d=function(d,e){var r=f("#wowqgdpr-rid").val(),t="",n="",c=0;n+='<div id="'+d+'-accordion" class="panel-group wowqgdpr-collapse" role="tablist" aria-multiselectable="true">',f.each(e,function(e,t){var a="",s="fa-plus",l="Expand";0==e&&(a="in",s="fa-minus",l="Deflate"),n+='<div class="panel panel-primary">',n+='<div role="button" data-toggle="collapse" data-parent="#'+d+'-accordion" href="#'+d+"-collapse-"+e+'" aria-expanded="true" aria-controls="'+d+"-collapse-"+e+'" class="panel-heading" role="tab" id="'+d+"-cHeading-"+e+'">',n+='<h4 class="panel-title" data-toggle="tooltip" data-placement="top" title="Click to '+l+'">',n+="<a>",n+='<i class="more-less pull-right fa '+s+'"></i>',n+=t.list.name,n+="</a>",n+="</h4>",n+="</div>",n+='<div id="'+d+"-collapse-"+e+'" class="panel-collapse collapse '+a+'" role="tabpanel" aria-labelledby="'+d+"-cHeading-"+e+'">',n+='<div class="panel-body">',n+='<form id="'+d+'-form" class="form-horizontal maonster-form">',"unconfirmed"==t.general.status&&(n+='<div class="alert alert-info">',n+="NOTE: AWeber will not remove subscribers that has a status of 'UNCONFIRMED'. They will automatically be deleted after remaining unconfirmed for thirty (30) days. ",n+="</div>"),n+='<div class="form-group">',n+='<label class="col-sm-2 control-label">Email</label>',n+='<div class="col-sm-4">',n+='<p style="padding-top: 7px !important;padding-bottom: 0 !important;">',n+=t.general.email,n+="</p>",n+="</div>",n+='<div class="col-sm-4">',n+='<p style="padding-top: 7px !important;padding-bottom: 0 !important;"><small><i>',n+="If you need to update your email address, please email us about this - unfortunately the integration with your CRMs will not allow us to do this automatically.",n+="</i></small></p>",n+="</div>",n+="</div>",n+='<div class="form-group">',n+='<label for="'+d+"-fname-"+e+'" class="col-sm-2 control-label">Name</label>',n+='<div class="col-sm-6">',n+='<input type="text" class="form-control maonster-name '+d+'-fname" id="'+d+"-fname-"+e+'" placeholder="First Name" value="'+t.general.fname+'">',n+="</div>",n+="</div>";var o=t.custom_fields&&t.custom_fields.phone?t.custom_fields.phone:"";n+='<div class="form-group">',n+='<label for="'+d+"-phone-"+e+'" class="col-sm-2 control-label">Phone</label>',n+='<div class="col-sm-6">',n+='<input type="tel" class="form-control maonster-phone '+d+'-phone" id="'+d+"-phone-"+e+'" placeholder="" value="'+o+'">',n+="</div>",n+="</div>";var i=t.custom_fields&&t.custom_fields.country?t.custom_fields.country.toLowerCase():"";n+='<div class="form-group">',n+='<label for="'+d+"-country-"+e+'" class="col-sm-2 control-label">Country</label>',n+='<div class="col-sm-6">',n+='<select data-default-value="'+i+'" id="'+d+"-country-"+e+'" class="form-control '+d+'-country maonster-country">',n+="<option "+(""==i?'disabled selected value=""':'value=""')+">---Choose a Country---</option>",f.each(b,function(e,t){var a=t.iso2.toLowerCase()==i?'selected="selected"':"";n+='<option value="'+t.iso2+'" '+a+">"+t.name+"</option>"}),n+="</select>",n+="</div>",n+="</div>",-1<f.inArray("gdpr_opt_out",t.tags)&&c++,n+='<div class="form-group">',n+='<label class="col-sm-2 control-label">Date Added</label>',n+='<div class="col-sm-10">',n+='<p style="padding-top: 7px !important;padding-bottom: 0 !important;">',n+=t.general.added,n+="</p>",n+="</div>",n+="</div>",n+='<div class="form-group">',n+='<label class="col-sm-2 control-label">&nbsp;</label>',n+='<div class="col-sm-10 text-right">',n+='<button data-wowqcrm="aw" data-lid="'+t.list.id+'" data-rid="'+r+'" class="wowqgdpr-update btn btn-success" style="margin: 5px 0;">',n+="Update",n+="</button>",n+="</div>",n+="</div>",n+="</form>",n+="</div>",n+="</div>",n+="</div>"}),0<c&&(t+='<div class="alert alert-optout">',t+="YOU OPTED OUT OF THIS",t+="</div>");return t+='<div class="wowqgdpr-collapse-container">',t+=n+="</div>",t+="</div>",t+='<div class="form-group">',t+='<label class="col-sm-2 control-label">&nbsp;</label>',t+='<div class="col-sm-10 text-right">',t+='<button data-wowqcrm="aw" data-rid="'+r+'" class="wowqgdpr-remove btn btn-primary" style="margin: 5px 0;">',t+="Remove Me From Your AWeber",t+="</button>",t+="</div>",t+="</div>"}(a,t),o=c(a,"AWeber"),i=p(a,d),f(s).append(o),f(l).append(i);break;case"is":d=function(u,e){var v=f("#wowqgdpr-rid").val(),t="",g="",w=0;g+='<div id="'+u+'-accordion" class="panel-group wowqgdpr-collapse" role="tablist" aria-multiselectable="true">',f.each(e,function(e,t){var a="",s="fa-plus",l="Expand";0==e&&(a="in",s="fa-minus",l="Deflate"),g+='<div class="panel panel-primary">',g+='<div role="button" data-toggle="collapse" data-parent="#'+u+'-accordion" href="#'+u+"-collapse-"+e+'" aria-expanded="true" aria-controls="'+u+"-collapse-"+e+'" class="panel-heading" role="tab" id="'+u+"-cHeading-"+e+'">',g+='<h4 class="panel-title" data-toggle="tooltip" data-placement="top" title="Click to '+l+'">',g+="<a>",g+='<i class="more-less pull-right fa '+s+'"></i>',g+=t.general.email,g+="</a>",g+="</h4>",g+="</div>",g+='<div id="'+u+"-collapse-"+e+'" class="panel-collapse collapse '+a+'" role="tabpanel" aria-labelledby="'+u+"-cHeading-"+e+'">',g+='<div class="panel-body">',g+='<form id="'+u+'-form" class="form-horizontal maonster-form">',g+='<div class="form-group">',g+='<label for="'+u+"-fname-"+e+'" class="col-sm-2 control-label">First Name</label>',g+='<div class="col-sm-10">',g+='<input type="text" class="form-control maonster-name '+u+'-fname" id="'+u+"-fname-"+e+'" placeholder="First Name" value="'+t.general.fname+'">',g+="</div>",g+="</div>",g+='<div class="form-group">',g+='<label for="'+u+"-lname-"+e+'" class="col-sm-2 control-label">Last Name</label>',g+='<div class="col-sm-10">',g+='<input type="text" class="form-control maonster-name '+u+'-lname" id="'+u+"-lname-"+e+'" placeholder="Last Name" value="'+t.general.lname+'">',g+="</div>",g+="</div>";var o=t.general&&t.general.phone?t.general.phone:"";g+='<div class="form-group">',g+='<label for="'+u+"-phone-"+e+'" class="col-sm-2 control-label">Phone</label>',g+='<div class="col-sm-6">',g+='<input type="tel" class="form-control maonster-phone '+u+'-phone" id="'+u+"-phone-"+e+'" placeholder="" value="'+o+'">',g+="</div>",g+="</div>",g+='<div class="form-group">',g+='<label class="col-sm-2 control-label"><h4 style="line-height:1.2;">Billing Address</h4></label>',g+='<div class="col-sm-10">',g+="</div>",g+="</div>";var i=t.addresses&&t.addresses.billing&&t.addresses.billing.street1?t.addresses.billing.street1:"";g+='<div class="form-group">',g+='<label for="'+u+"-billing-address1-"+e+'" class="col-sm-2 control-label">Street Address</label>',g+='<div class="col-sm-10">',g+='<input type="text" class="form-control maonster-address '+u+'-billing-address1" id="'+u+"-billing-address1-"+e+'" placeholder="Street Address 1" value="'+i+'">',g+="</div>",g+="</div>";var d=t.addresses&&t.addresses.billing&&t.addresses.billing.street2?t.addresses.billing.street2:"";g+='<div class="form-group">',g+='<label for="'+u+"-billing-address2-"+e+'" class="col-sm-2 control-label">Street Address 2</label>',g+='<div class="col-sm-10">',g+='<input type="text" class="form-control maonster-address '+u+'-billing-address2" id="'+u+"-billing-address2-"+e+'" placeholder="Street Address 2" value="'+d+'">',g+="</div>",g+="</div>";var r=t.addresses&&t.addresses.billing&&t.addresses.billing.city?t.addresses.billing.city:"";g+='<div class="form-group">',g+='<label for="'+u+"-billing-city-"+e+'" class="col-sm-2 control-label">City</label>',g+='<div class="col-sm-10">',g+='<input type="text" class="form-control maonster-address '+u+'-billing-city" id="'+u+"-billing-city-"+e+'" placeholder="City" value="'+r+'">',g+="</div>",g+="</div>";var n=t.addresses&&t.addresses.billing&&t.addresses.billing.country?t.addresses.billing.country:"";g+='<div class="form-group">',g+='<label for="'+u+"-billing-country-"+e+'" class="col-sm-2 control-label">Country</label>',g+='<div class="col-sm-6">',g+='<select data-region-id="#'+u+"-billing-state-"+e+'" data-default-value="'+n+'" id="'+u+"-billing-country-"+e+'" class="crs-country form-control '+u+'-billing-country maonster-country">',g+="<option "+(p=""==n?'disabled selected value=""':'value=""')+">---Choose a Country---</option>",f.each(b,function(e,t){var a=t.iso2.toLowerCase()==n.toLowerCase()?'selected="selected"':"";g+='<option value="'+t.iso2+'" '+a+">"+t.name+"</option>"}),g+="</select>",g+="</div>",g+="</div>";var c=t.addresses&&t.addresses.billing&&t.addresses.billing.state?t.addresses.billing.state:"";if(g+='<div class="form-group">',g+='<label for="'+u+"-billing-state-"+e+'" class="col-sm-2 control-label">State</label>',g+='<div class="col-sm-6">',g+='<select id="'+u+"-billing-state-"+e+'" class="form-control '+u+'-billing-state">',""!=n){var p="";""==c&&(p="disabled selected value"),g+="<option "+p+">---Choose a Region---</option>",f.each(h[n].regions,function(e,t){var a=t.name.toLowerCase()==c.toLowerCase()?'selected="selected"':"";g+='<option value="'+t.shortCode+'" '+a+">"+t.name+"</option>"})}else g+="<option disabled selected value>------</option>";g+="</select>",g+="</div>",g+="</div>";var m=t.addresses&&t.addresses.billing&&t.addresses.billing.zipcode?t.addresses.billing.zipcode:"";g+='<div class="form-group">',g+='<label for="'+u+"-billing-zip-"+e+'" class="col-sm-2 control-label">Postal Code</label>',g+='<div class="col-sm-4">',g+='<input type="text" class="form-control maonster-zipcode '+u+'-billing-zip" id="'+u+"-billing-zip-"+e+'" placeholder="Postal/Zip" value="'+m+'">',g+="</div>",g+="</div>",g+='<div class="form-group">',g+='<label class="col-sm-2 control-label"><h4 style="line-height:1.2;">Shipping Address</h4></label>',g+='<div class="col-sm-10">',g+="</div>",g+="</div>";i=t.addresses&&t.addresses.shipping&&t.addresses.shipping.street1?t.addresses.shipping.street1:"";g+='<div class="form-group">',g+='<label for="'+u+"-shipping-address1-"+e+'" class="col-sm-2 control-label">Street Address</label>',g+='<div class="col-sm-10">',g+='<input type="text" class="form-control maonster-address '+u+'-shipping-address1" id="'+u+"-shipping-address1-"+e+'" placeholder="Street Address 1" value="'+i+'">',g+="</div>",g+="</div>";d=t.addresses&&t.addresses.shipping&&t.addresses.shipping.street2?t.addresses.shipping.street2:"";g+='<div class="form-group">',g+='<label for="'+u+"-shipping-address2-"+e+'" class="col-sm-2 control-label">Street Address 2</label>',g+='<div class="col-sm-10">',g+='<input type="text" class="form-control maonster-address '+u+'-shipping-address2" id="'+u+"-shipping-address2-"+e+'" placeholder="Street Address 2" value="'+d+'">',g+="</div>",g+="</div>";r=t.addresses&&t.addresses.shipping&&t.addresses.shipping.city?t.addresses.shipping.city:"";g+='<div class="form-group">',g+='<label for="'+u+"-shipping-city-"+e+'" class="col-sm-2 control-label">City</label>',g+='<div class="col-sm-10">',g+='<input type="text" class="form-control maonster-address '+u+'-shipping-city" id="'+u+"-shipping-city-"+e+'" placeholder="City" value="'+r+'">',g+="</div>",g+="</div>";n=t.addresses&&t.addresses.shipping&&t.addresses.shipping.country?t.addresses.shipping.country:"";g+='<div class="form-group">',g+='<label for="'+u+"-shipping-country-"+e+'" class="col-sm-2 control-label">Country</label>',g+='<div class="col-sm-6">',g+='<select data-region-id="#'+u+"-shipping-state-"+e+'" data-default-value="'+n+'" id="'+u+"-shipping-country-"+e+'" class="crs-country form-control '+u+'-shipping-country maonster-country">',g+="<option "+(p=""==n?'disabled selected value=""':'value=""')+">---Choose a Country---</option>",f.each(b,function(e,t){var a=t.iso2.toLowerCase()==n.toLowerCase()?'selected="selected"':"";g+='<option value="'+t.iso2+'" '+a+">"+t.name+"</option>"}),g+="</select>",g+="</div>",g+="</div>";c=t.addresses&&t.addresses.shipping&&t.addresses.shipping.state?t.addresses.shipping.state:"";if(g+='<div class="form-group">',g+='<label for="'+u+"-shipping-state-"+e+'" class="col-sm-2 control-label">State</label>',g+='<div class="col-sm-6">',g+='<select id="'+u+"-shipping-state-"+e+'" class="form-control '+u+'-shipping-state">',""!=n){p="";""==c&&(p="disabled selected value"),g+="<option "+p+">---Choose a Region---</option>",f.each(h[n].regions,function(e,t){var a=t.name.toLowerCase()==c.toLowerCase()?'selected="selected"':"";g+='<option value="'+t.shortCode+'" '+a+">"+t.name+"</option>"})}else g+="<option disabled selected value>------</option>";g+="</select>",g+="</div>",g+="</div>";m=t.addresses&&t.addresses.shipping&&t.addresses.shipping.zipcode?t.addresses.shipping.zipcode:"";g+='<div class="form-group">',g+='<label for="'+u+"-shipping-state-"+e+'" class="col-sm-2 control-label">Postal Code</label>',g+='<div class="col-sm-4">',g+='<input type="text" class="form-control maonster-zipcode '+u+'-shipping-zip" id="'+u+"-shipping-zip-"+e+'" placeholder="Postal/Zip" value="'+m+'">',g+="</div>",g+="</div>",-1<t.tags.indexOf("GDPR_OPT_OUT")&&w++,g+='<div class="form-group">',g+='<label class="col-sm-2 control-label">Date Added</label>',g+='<div class="col-sm-10">',g+='<p style="padding-top: 7px !important;padding-bottom: 0 !important;">',g+=t.general.added,g+="</p>",g+="</div>",g+="</div>",g+='<div class="form-group">',g+='<label class="col-sm-2 control-label">&nbsp;</label>',g+='<div class="col-sm-10 text-right">',g+='<button data-wowqcrm="is" data-lid="'+t.general.id+'" data-rid="'+v+'" class="maonster-submit btn-default wowqgdpr-update btn btn-success" style="margin: 5px 0;">',g+="Update",g+="</button>",g+="</div>",g+="</div>",g+="</form>",g+="</div>",g+="</div>",g+="</div>"}),0<w&&(t+='<div class="alert alert-optout">',t+="YOU OPTED OUT OF THIS",t+="</div>");return t+='<div class="wowqgdpr-collapse-container">',t+=g+="</div>",t+="</div>",t+='<div class="form-group">',t+='<label class="col-sm-2 control-label">&nbsp;</label>',t+='<div class="col-sm-10 text-right">',t+='<button data-wowqcrm="is" data-rid="'+v+'" class="wowqgdpr-remove btn btn-primary" style="margin: 5px 0;">',t+="Remove Me From Your Infusionsoft",t+="</button>",t+="</div>",t+="</div>"}(a,t),o=c(a,"Infusionsoft"),i=p(a,d),f(s).append(o),f(l).append(i);break;case"mc":d=function(p,e){var m=f("#wowqgdpr-rid").val(),t="",u="",v=0;u+='<div id="'+p+'-accordion" class="panel-group wowqgdpr-collapse" role="tablist" aria-multiselectable="true">',f.each(e,function(e,t){var a="",s="fa-plus",l="Expand";0==e&&(a="in",s="fa-minus",l="Deflate"),u+='<div class="panel panel-primary">',u+='<div role="button" data-toggle="collapse" data-parent="#'+p+'-accordion" href="#'+p+"-collapse-"+e+'" aria-expanded="true" aria-controls="'+p+"-collapse-"+e+'" class="panel-heading" role="tab" id="'+p+"-cHeading-"+e+'">',u+='<h4 class="panel-title" data-toggle="tooltip" data-placement="top" title="Click to '+l+'">',u+="<a>",u+='<i class="more-less pull-right fa '+s+'"></i>',u+=t.list.name,u+="</a>",u+="</h4>",u+="</div>",u+='<div id="'+p+"-collapse-"+e+'" class="panel-collapse collapse '+a+'" role="tabpanel" aria-labelledby="'+p+"-cHeading-"+e+'">',u+='<div class="panel-body">',u+='<form id="'+p+"-form-"+e+'" class="form-horizontal maonster-form">',u+='<div class="form-group">',u+='<label class="col-sm-2 control-label">Email</label>',u+='<div class="col-sm-4">',u+='<p style="padding-top: 7px !important;padding-bottom: 0 !important;">',u+=t.general.email,u+="</p>",u+="</div>",u+='<div class="col-sm-4">',u+='<p style="padding-top: 7px !important;padding-bottom: 0 !important;"><small><i>',u+="If you need to update your email address, please email us about this - unfortunately the integration with your CRMs will not allow us to do this automatically.",u+="</i></small></p>",u+="</div>",u+="</div>",u+='<div class="form-group">',u+='<label for="'+p+"-fname-"+e+'" class="col-sm-2 control-label">First Name</label>',u+='<div class="col-sm-10">',u+='<input type="text" class="form-control maonster-name '+p+'-fname" id="'+p+"-fname-"+e+'" placeholder="First Name" value="'+t.general.fname+'">',u+="</div>",u+="</div>",u+='<div class="form-group">',u+='<label for="'+p+"-lname-"+e+'" class="col-sm-2 control-label">Last Name</label>',u+='<div class="col-sm-10">',u+='<input type="text" class="form-control maonster-name '+p+'-lname" id="'+p+"-lname-"+e+'" placeholder="Last Name" value="'+t.general.lname+'">',u+="</div>",u+="</div>";var o=t.custom_fields&&t.custom_fields.phone?t.custom_fields.phone:"";u+='<div class="form-group">',u+='<label for="'+p+"-phone-"+e+'" class="col-sm-2 control-label">Phone</label>',u+='<div class="col-sm-6">',u+='<input type="tel" class="form-control maonster-phone '+p+'-phone" id="'+p+"-phone-"+e+'" placeholder="" value="'+o+'">',u+="</div>",u+="</div>";var i=t.custom_fields&&t.custom_fields.address&&t.custom_fields.address.addr1?t.custom_fields.address.addr1:"";u+='<div class="form-group">',u+='<label for="'+p+"-address1-"+e+'" class="col-sm-2 control-label">Street Address</label>',u+='<div class="col-sm-10">',u+='<input type="text" class="form-control maonster-address '+p+'-address1 maonster-addreq" id="'+p+"-address1-"+e+'" placeholder="Street Address" value="'+i+'">',u+="</div>",u+="</div>";var d=t.custom_fields&&t.custom_fields.address&&t.custom_fields.address.city?t.custom_fields.address.city:"";u+='<div class="form-group">',u+='<label for="'+p+"-city-"+e+'" class="col-sm-2 control-label">City</label>',u+='<div class="col-sm-10">',u+='<input type="text" class="form-control maonster-address '+p+'-city maonster-addreq" id="'+p+"-city-"+e+'" placeholder="City" value="'+d+'">',u+="</div>",u+="</div>";var r=t.custom_fields&&t.custom_fields.address&&t.custom_fields.address.state?t.custom_fields.address.state:"";u+='<div class="form-group">',u+='<label for="'+p+"-state-"+e+'" class="col-sm-2 control-label">State</label>',u+='<div class="col-sm-10">',u+='<input type="text" class="form-control maonster-address '+p+'-state maonster-addreq" id="'+p+"-state-"+e+'" placeholder="State/Prov/Region" value="'+r+'">',u+="</div>",u+="</div>";var n=t.custom_fields&&t.custom_fields.address&&t.custom_fields.address.zip?t.custom_fields.address.zip:"";u+='<div class="form-group">',u+='<label for="'+p+"-state-"+e+'" class="col-sm-2 control-label">Zip</label>',u+='<div class="col-sm-10">',u+='<input type="text" class="form-control maonster-zipcode '+p+'-zip maonster-addreq" id="'+p+"-zip-"+e+'" placeholder="Postal/Zip" value="'+n+'">',u+="</div>",u+="</div>";var c=t.custom_fields&&t.custom_fields.address&&t.custom_fields.address.country?t.custom_fields.address.country.toLowerCase():"";u+='<div class="form-group">',u+='<label for="'+p+"-country-"+e+'" class="col-sm-2 control-label">Country</label>',u+='<div class="col-sm-6">',u+='<select data-default-value="'+c+'" id="'+p+"-country-"+e+'" class="form-control '+p+'-country maonster-country maonster-addreq">',u+="<option "+(""==c?'disabled selected value=""':'value=""')+">---Choose a Country---</option>",f.each(b,function(e,t){var a=t.iso2.toLowerCase()==c?'selected="selected"':"";u+='<option value="'+t.iso2+'" '+a+">"+t.name+"</option>"}),u+="</select>",u+="</div>",u+="</div>",-1<f.map(t.tags,function(e,t){return e.name}).join(",").indexOf("GDPR_OPT_OUT")&&v++,u+='<div class="form-group">',u+='<label class="col-sm-2 control-label">Date Added</label>',u+='<div class="col-sm-10">',u+='<p style="padding-top: 7px !important;padding-bottom: 0 !important;">',u+=t.general.added,u+="</p>",u+="</div>",u+="</div>",u+='<div class="form-group">',u+='<label class="col-sm-2 control-label">&nbsp;</label>',u+='<div class="col-sm-10 text-right">',u+='<button data-wowqcrm="mc" data-lid="'+t.list.id+'" data-rid="'+m+'" class="maonster-submit wowqgdpr-update btn btn-default" style="margin: 5px 0;">',u+="Update",u+="</button>",u+="</div>",u+="</div>",u+="</form>",u+="</div>",u+="</div>",u+="</div>"}),0<v&&(t+='<div class="alert alert-optout">',t+="YOU OPTED OUT OF THIS",t+="</div>");return t+='<div class="wowqgdpr-collapse-container">',t+=u+="</div>",t+="</div>",t+='<div class="form-group">',t+='<label class="col-sm-2 control-label">&nbsp;</label>',t+='<div class="col-sm-10 text-right">',t+='<button data-wowqcrm="mc" data-rid="'+m+'" class="wowqgdpr-remove btn btn-primary" style="margin: 5px 0;">',t+="Remove Me From Your MailChimp",t+="</button>",t+="</div>",t+="</div>"}(a,t),o=c(a,"MailChimp"),i=p(a,d),f(s).append(o),f(l).append(i)}}),e.wp_data&&e.wp_data.user&&(d=function(e,t){var a=f("#wowqgdpr-rid").val(),s="";if(t.requested&&"request-pending"==t.status)s+='<div class="alert alert-info">',s+="Data Erasure Pending.",s+="</div>";else if(t.requested&&"request-confirmed"==t.status)s+='<div class="alert alert-info">',s+="Thank you! Data Erasure Confirmed. Waiting for ADMIN to remove your data.",s+="</div>";else if(t.requested&&"request-completed"==t.status)s+='<div class="alert alert-info">',s+="Data Erasure Complete.",s+="</div>";else{if(s+='<form id="'+e+'-form" class="form-horizontal maonster-form">',t.user){f("#wowqgpdr-wp-id").val(t.user.ID),s+='<div class="form-group">',s+='<label class="col-sm-2 control-label">Email</label>',s+='<div class="col-sm-4">',s+='<p style="padding-top: 7px !important;padding-bottom: 0 !important;">',s+=t.user.data.user_email,s+="</p>",s+="</div>",s+='<div class="col-sm-4">',s+='<p style="padding-top: 7px !important;padding-bottom: 0 !important;"><small><i>',s+="If you need to update your email address, please email us about this - unfortunately the integration with your CRMs will not allow us to do this automatically.",s+="</i></small></p>",s+="</div>",s+="</div>";var l=t.user.data.first_name?t.user.data.first_name:"";s+='<div class="form-group">',s+='<label for="'+e+'-fname" class="col-sm-2 control-label">First Name</label>',s+='<div class="col-sm-10">',s+='<input type="text" class="form-control maonster-name" id="'+e+'-fname" placeholder="First Name" value="'+l+'">',s+="</div>",s+="</div>";var o=t.user.data.last_name?t.user.data.last_name:"";s+='<div class="form-group">',s+='<label for="'+e+'-lname" class="col-sm-2 control-label">Last Name</label>',s+='<div class="col-sm-10">',s+='<input type="text" class="form-control maonster-name" id="'+e+'-lname" placeholder="Last Name" value="'+o+'">',s+="</div>",s+="</div>";var i=t.user.data.user_url?t.user.data.user_url:"";s+='<div class="form-group">',s+='<label for="'+e+'-website" class="col-sm-2 control-label">Website</label>',s+='<div class="col-sm-10">',s+='<input type="text" class="form-control maonster-website" id="'+e+'-website" placeholder="Website" value="'+i+'">',s+="</div>",s+="</div>",s+='<div class="form-group">',s+='<label class="col-sm-2 control-label">Date Added</label>',s+='<div class="col-sm-10">',s+='<p style="padding-top: 7px !important;padding-bottom: 0 !important;">',s+=t.user_registered,s+="</p>",s+="</div>",s+="</div>"}if(t.user_posts&&0<t.user_posts.length||t.user_comments&&0<t.user_comments.length){if(s+='<div class="form-group">',s+='<div class="col-sm-offset-1 col-sm-10">',s+='<ul id="wowqgdpr-wpusers-tab" class="nav nav-tabs">',t.user_posts&&0<t.user_posts.length&&(s+='<li class="active"><a href="#wowqdpr-usersposts" data-toggle="tab" aria-expanded="true">Posts</a></li>'),t.user_comments&&0<t.user_comments.length){var d="";t.user_posts&&t.user_posts.length<=0&&t.user_comments&&0<t.user_comments.length&&(d='class="active"'),s+="<li "+d+'><a href="#wowqdpr-userscomments" data-toggle="tab" aria-expanded="false">Comments</a></li>'}if(s+="</ul>",s+='<div class="tab-content">',t.user_posts&&0<t.user_posts.length&&(s+='<div role="tabpanel" class="tab-pane active" id="wowqdpr-usersposts">',s+='<div class="row"><div class="col-lg-12">',s+='<div class="panel panel-default">',s+='<div class="panel-body">',s+='<table width="100%" class="table table-striped table-bordered table-hover" id="user-posts-table">',s+="<thead><tr>",s+="<th>Post Name</th>",s+="<th>Post Excerpt</th>",s+="<th>Date Posted</th>",s+="</tr></thead>",s+="<tbody>",f.each(t.user_posts,function(e,t){s+='<tr class="odd gradeX">',s+="<td>"+t.title+"</td>",s+="<td>"+t.content+"</td>",s+="<td>"+t.added+"</td>",s+="</tr>"}),s+="</tbody>",s+="</table>",s+="</div>",s+="</div>",s+="</div></div>",s+="</div>"),t.user_comments&&0<t.user_comments.length){d="";t.user_posts&&t.user_posts.length<=0&&t.user_comments&&0<t.user_comments.length&&(d="active"),s+='<div role="tabpanel" class="tab-pane '+d+'" id="wowqdpr-userscomments">',s+='<div class="row"><div class="col-lg-12">',s+='<div class="panel panel-default">',s+='<div class="panel-body">',s+='<table width="100%" class="table table-striped table-bordered table-hover" id="user-comments-table">',s+="<thead><tr>",s+="<th>Post Name</th>",s+="<th>Comment</th>",s+="<th>Date Commented</th>",s+="</tr></thead>",s+="<tbody>",f.each(t.user_comments,function(e,t){s+='<tr class="odd gradeX">',s+="<td>"+t.title+"</td>",s+="<td>"+t.content+"</td>",s+="<td>"+t.added+"</td>",s+="</tr>"}),s+="</tbody>",s+="</table>",s+="</div>",s+="</div>",s+="</div></div>",s+="</div>"}s+="</div>",s+="</div>",s+="</div>"}s+='<div class="form-group">',s+='<label class="col-sm-2 control-label">&nbsp;</label>',s+='<div class="col-sm-10 text-right">',s+='<button data-wowqcrm="wp" data-rid="'+a+'" class="wowqgdpr-update btn btn-success" style="margin: 5px 0;">',s+="Update Data",s+="</button>&nbsp;",s+='<button data-wowqcrm="wp" data-rid="'+a+'" class="wowqgdpr-remove btn btn-primary" style="margin: 5px 0;">',s+="Remove Me From Your WordPress",s+="</button>",s+="</div>",s+="</div>",s+="</form>"}return s}("wowqgdpr-wp",e.wp_data),o=c("wowqgdpr-wp","WordPress"),i=p("wowqgdpr-wp",d),f(s).append(o),f(l).append(i));swal.close(),function(){var t=f("#wowqgdpr-current-tab").val();f('#wowqgdpr-tab li a[data-toggle="tab"]').each(function(){var e=f(this).prop("href").split("#")[1];t==e&&f(this).closest("li").addClass("active").siblings().removeClass("active")}),f("#wowqgdpr-tab-content .tab-pane").each(function(){var e=f(this).prop("id");t==e&&f(this).removeClass("active").addClass("active").siblings().removeClass("active")}),""!=t&&"wowqdpr-ac"!=t||(f('#wowqgdpr-tab li a[href="#wowqgdpr-ac"]').parent().addClass("active"),f("#wowqgdpr-ac").addClass("active"));m(t),f('#wowqgdpr-tab li a[data-toggle="tab"]').on("shown.bs.tab",function(e){var t=f(e.target).attr("href").split("#")[1];m(t),r(t)})}(),function(){f("#user-posts-table").DataTable({responsive:!0,columns:[null,null,null],order:[[2,"desc"]]}),f("#user-comments-table").DataTable({responsive:!0,columns:[null,null,null],order:[[2,"desc"]]});f("#wowqgdpr-export").on("click",function(e){e.preventDefault();var t=f("#wowqgdpr-rid").val();swal({title:"Downloading...",allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}),swal.showLoading(),f("#wowqgdpr-table-export").show();var a={ajax_nonce:wowq_gdpr_admin_urls.ajax_nonce,action:"get_gdpr_data",rid:t};f.ajax({url:wowq_gdpr_admin_urls.admin_ajax,type:"post",data:a,dataType:"json",success:function(e){swal.close(),e.status?function(e){var a="";a+="<tr>",a+="<th>CRM</th>",a+="<th>First Name</th>",a+="<th>Last Name</th>",a+="<th>Email</th>",a+="<th>Phone</th>",a+="<th>Billing Address Line 1</th>",a+="<th>Billing Address Line 2</th>",a+="<th>Billing Address City</th>",a+="<th>Billing Address Region</th>",a+="<th>Billing Address Country</th>",a+="<th>Billing Address Postal Code</th>",a+="<th>Shipping Address Line 1</th>",a+="<th>Shipping Address Line 2</th>",a+="<th>Shipping Address City</th>",a+="<th>Shipping Address Region</th>",a+="<th>Shipping Address Country</th>",a+="<th>Shipping Address Postal Code</th>",a+="</tr>",f.each(e,function(e,t){"ac"==e?(a+="<tr>",a+="<td>ActiveCampaign</td>",a+="<td>"+t.fname+"</td>",a+="<td>"+t.lname+"</td>",a+="<td>"+t.email+"</td>",t.phone?a+="<td>"+t.phone+"</td>":a+="<td></td>",a+="<td></td>",a+="<td></td>",a+="<td></td>",a+="<td></td>",a+="<td></td>",a+="<td></td>",a+="<td></td>",a+="<td></td>",a+="<td></td>",a+="<td></td>",a+="<td></td>",a+="<td></td>",a+="</tr>"):"aw"==e?f.each(t,function(e,t){a+="<tr>",a+="<td>AWeber</td>",a+="<td>"+t.general.fname+"</td>",a+="<td></td>",a+="<td>"+t.general.email+"</td>",t.custom_fields.phone?a+="<td>"+t.custom_fields.phone+"</td>":a+="<td></td>",a+="<td></td>",a+="<td></td>",a+="<td></td>",a+="<td></td>",t.custom_fields.country?a+="<td>"+t.custom_fields.country+"</td>":a+="<td></td>",a+="<td></td>",a+="<td></td>",a+="<td></td>",a+="<td></td>",a+="<td></td>",a+="<td></td>",a+="<td></td>",a+="</tr>"}):"is"==e?f.each(t,function(e,t){a+="<tr>",a+="<td>Infusionsoft</td>",a+="<td>"+t.general.fname+"</td>",a+="<td>"+t.general.lname+"</td>",a+="<td>"+t.general.email+"</td>",t.general.phone?a+="<td>"+t.general.phone+"</td>":a+="<td></td>",t.addresses&&t.addresses.billing?(a+="<td>"+t.addresses.billing.street1+"</td>",a+="<td>"+t.addresses.billing.street2+"</td>",a+="<td>"+t.addresses.billing.city+"</td>",a+="<td>"+t.addresses.billing.state+"</td>",a+="<td>"+t.addresses.billing.country+"</td>",a+="<td>"+t.addresses.billing.zipcode+"</td>"):(a+="<td></td>",a+="<td></td>",a+="<td></td>",a+="<td></td>",a+="<td></td>",a+="<td></td>"),t.addresses&&t.addresses.shipping?(a+="<td>"+t.addresses.shipping.street1+"</td>",a+="<td>"+t.addresses.shipping.street2+"</td>",a+="<td>"+t.addresses.shipping.city+"</td>",a+="<td>"+t.addresses.shipping.state+"</td>",a+="<td>"+t.addresses.shipping.country+"</td>",a+="<td>"+t.addresses.shipping.zipcode+"</td>"):(a+="<td></td>",a+="<td></td>",a+="<td></td>",a+="<td></td>",a+="<td></td>",a+="<td></td>"),a+="</tr>"}):"mc"==e&&f.each(t,function(e,t){a+="<tr>",a+="<td>MailChimp</td>",a+="<td>"+t.general.fname+"</td>",a+="<td>"+t.general.lname+"</td>",a+="<td>"+t.general.email+"</td>",t.custom_fields&&t.custom_fields.phone?a+="<td>"+t.custom_fields.phone+"</td>":a+="<td></td>",t.custom_fields&&t.custom_fields.address?(a+="<td>"+t.custom_fields.address.addr1+"</td>",a+="<td>"+t.custom_fields.address.addr2+"</td>",a+="<td>"+t.custom_fields.address.city+"</td>",a+="<td>"+t.custom_fields.address.state+"</td>",a+="<td>"+t.custom_fields.address.country+"</td>",a+="<td>"+t.custom_fields.address.zip+"</td>"):(a+="<td></td>",a+="<td></td>",a+="<td></td>",a+="<td></td>",a+="<td></td>",a+="<td></td>"),a+="<td></td>",a+="<td></td>",a+="<td></td>",a+="<td></td>",a+="<td></td>",a+="<td></td>",a+="</tr>"})}),swal.close(),f("#wowqgdpr-table-export").html(a);var t=f("#wowqgdpr-email").val();f("#wowqgdpr-table-export").table2csv({filename:"WOWQ-"+t+"-CRM-DATA.csv"}),f("#wowqgdpr-table-export").hide()}(e.data.user_info):swal({type:"error",title:"Can not export right now."})},error:function(e,t){console.log(e),console.log(t),swal.close()}})})}(),f(".wowqgdpr-update").on("click",function(e){e.preventDefault();var t=f(this).data("rid"),a=f(this).data("wowqcrm"),s=f(this).closest(".maonster-form"),l={action:"update_data",rid:t,crm:a};switch(a){case"ac":""!=(i=f(s).find("input.wowqgdpr-ac-phone").val())&&(i=f(s).find("input.wowqgdpr-ac-phone").intlTelInput("getNumber",intlTelInputUtils.numberFormat.E164)),l.fname=f.trim(f("#wowqgdpr-ac-fname").val()),l.lname=f.trim(f("#wowqgdpr-ac-lname").val()),l.phone=i;break;case"mc":""!=(i=f(s).find("input.wowqgdpr-mc-phone").val())&&(i=f(s).find("input.wowqgdpr-mc-phone").intlTelInput("getNumber",intlTelInputUtils.numberFormat.E164));var o={addr1:f.trim(f(s).find("input.wowqgdpr-mc-address1").val()),city:f.trim(f(s).find("input.wowqgdpr-mc-city").val()),state:f.trim(f(s).find("input.wowqgdpr-mc-state").val()),zip:f.trim(f(s).find("input.wowqgdpr-mc-zip").val()),country:f.trim(f(s).find("select.wowqgdpr-mc-country").val()).toUpperCase()};l.fname=f.trim(f(s).find("input.wowqgdpr-mc-fname").val()),l.lname=f.trim(f(s).find("input.wowqgdpr-mc-lname").val()),l.phone=i,l.address=o,l.listid=f(this).data("lid");break;case"aw":""!=(i=f(s).find("input.wowqgdpr-aw-phone").val())&&(i=f(s).find("input.wowqgdpr-aw-phone").intlTelInput("getNumber",intlTelInputUtils.numberFormat.E164)),l.name=f.trim(f(s).find("input.wowqgdpr-aw-fname").val()),l.city=f.trim(f(s).find("input.wowqgdpr-aw-city").val()),l.country=f.trim(f(s).find("select.wowqgdpr-aw-country").val()).toUpperCase(),l.phone=i,l.listid=f(this).data("lid");break;case"is":var i;""!=(i=f(s).find("input.wowqgdpr-is-phone").val())&&(i=f(s).find("input.wowqgdpr-is-phone").intlTelInput("getNumber",intlTelInputUtils.numberFormat.E164)),l.fname=f.trim(f(s).find("input.wowqgdpr-is-fname").val()),l.lname=f.trim(f(s).find("input.wowqgdpr-is-lname").val()),l.phone=i;var d={street1:f.trim(f(s).find("input.wowqgdpr-is-billing-address1").val()),street2:f.trim(f(s).find("input.wowqgdpr-is-billing-address2").val()),city:f.trim(f(s).find("input.wowqgdpr-is-billing-city").val()),state:f.trim(f(s).find("select.wowqgdpr-is-billing-state").val()),zip:f.trim(f(s).find("input.wowqgdpr-is-billing-zip").val()),country:f.trim(f(s).find("select.wowqgdpr-is-billing-country").val())},r={street1:f.trim(f(s).find("input.wowqgdpr-is-shipping-address1").val()),street2:f.trim(f(s).find("input.wowqgdpr-is-shipping-address2").val()),city:f.trim(f(s).find("input.wowqgdpr-is-shipping-city").val()),state:f.trim(f(s).find("select.wowqgdpr-is-shipping-state").val()),zip:f.trim(f(s).find("input.wowqgdpr-is-shipping-zip").val()),country:f.trim(f(s).find("select.wowqgdpr-is-shipping-country").val())};l.billing=d,l.shipping=r,l.userid=f(this).data("lid");break;case"wp":l.uid=f.trim(f("#wowqgpdr-wp-id").val()),l.fname=f.trim(f("#wowqgdpr-wp-fname").val()),l.lname=f.trim(f("#wowqgdpr-wp-lname").val()),l.website=f.trim(f("#wowqgdpr-wp-website").val()),l.email=f.trim(f("#wowqgdpr-email").val())}swal({title:"Notice!",text:"Are you sure?",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, please!",cancelButtonText:"No, cancel!",confirmButtonClass:"btn btn-success",cancelButtonClass:"btn btn-danger",buttonsStyling:!1,customClass:"wowgdprCentreSwal"}).then(function(){u(l)},function(e){console.log(e)})}),f(".wowqgdpr-remove").on("click",function(e){e.preventDefault();var t={action:"remove_data",rid:f("#wowqgdpr-rid").val(),crm:f(this).data("wowqcrm"),uid:f.trim(f("#wowqgpdr-wp-id").val()),email:f.trim(f("#wowqgdpr-email").val()),host:n()},a="",s=f.trim(f("#wowqgpdr-user-fname").val());a="fb"==t.crm?"We just asked Facebook to remove you from "+s+"'s Facebook Custom Audience but Facebook don't advise anyone if and when the delete process is completed. Just have to trust they do it.. Are you sure you want to proceed?":"ad"==t.crm?"We just asked Google to remove you from "+s+"'s Google AdWords Remarketing Lists but Google don't advise anyone if and when the delete process is completed. Just have to trust they do it.. Are you sure you want to proceed?":"all"==t.crm?"We just asked Facebook to remove you from "+s+"'s Facebook Custom Audience and Google to remove you from "+s+"'s Google AdWords Remarketing Lists but Facebook and Google don't advise anyone if and when the delete process is completed. Just have to trust they do it.. Are you sure you want to proceed?":"wp"==t.crm?"This will also delete your WordPress account if you have registered to "+s+"'s site.. Are you sure you want to proceed?":"Are you sure you want to proceed?",swal({title:"Notice!",text:a,type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, please!",cancelButtonText:"No, cancel!",confirmButtonClass:"btn btn-success",cancelButtonClass:"btn btn-danger",buttonsStyling:!1,customClass:"wowgdprCentreSwal"}).then(function(){u(t)},function(e){})}),f("#wowqgdpr-generate").on("click",function(e){e.preventDefault();var t={action:"generate",rid:f(this).data("rid"),uid:f.trim(f("#wowqgpdr-wp-id").val()),email:f.trim(f("#wowqgdpr-email").val())};swal({title:"Generating...",allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}),swal.showLoading();t={ajax_nonce:wowq_gdpr_admin_urls.ajax_nonce,action:"gdpr_request",data:t};f.ajax({url:wowq_gdpr_admin_urls.admin_ajax,type:"post",data:t,dataType:"json",success:function(e){swal.close(),swal({type:"success",title:"Data Generated",showCancelButton:!1,showConfirmButton:!1}).then(function(){location.reload(!0)},function(e){location.reload(!0)})},error:function(e,t){console.log(e),console.log(t),swal.close()}})}),function(){var e=f(".crs-country");f(e).on("change",function(e){e.preventDefault(),function(e){var t=f(e).val().toUpperCase(),a=h[t],s="";s+="<option disabled selected value>--- Choose a Region ---</option>",f.each(a.regions,function(e,t){s+='<option value="'+t.shortCode+'">'+t.name+"</option>"});var l=f(e).data("regionId");f(l).html(""),f(l).html(s)}(f(this))})}(),f("#wowqgdpr-mc .maonster-form").each(function(e,t){var l=f(t).find(".maonster-addreq"),a=0;f(l).each(function(){var e=f(this).val();""!=e&&!jQuery.isEmptyObject(e)||a++,f(this).unbind("keyup change"),f(this).on("keyup change",function(e){var t=f(this).closest(".maonster-form"),a=f(t).find(".maonster-addreq"),s=0;""==f(this).val()&&jQuery.isEmptyObject(f(this).val())?(f(a).each(function(){""!=f(this).val()&&!jQuery.isEmptyObject(f(this).val())||s++}),l.length==s&&f(l).each(function(){f(this).removeClass("required"),f(this).parent().removeClass("has-error has-success")})):f(a).each(function(){f(this).hasClass("required")||f(this).addClass("required")}),f(".maonster-form").maonsterForm()})}),l.length==a?f(l).each(function(){f(this).removeClass("required")}):f(l).each(function(){f(this).removeClass("required").addClass("required")}),f(".maonster-form").maonsterForm()}),function(){f('[data-toggle="tooltip"]').tooltip();var e=f("#wowqgdpr-tab-content .wowqgdpr-collapse");f(e).each(function(){f(this).on("hidden.bs.collapse",v),f(this).on("shown.bs.collapse",v)})}(),f(".maonster-form").maonsterForm()}(e)):(swal.hideLoading(),f(".wowq-swal2-verify #swal2-title").text("Verification"),f(".wowq-swal2-verify .wowq-pinlogin-error").removeClass("hidden"),f(".wowq-swal2-verify .wowq-pinlogin-error").html(e.response.msg)):swal({type:"error",title:"No valid request or the request was already removed."})},error:function(e,t){f("#wowq-pinwrapper").show(),swal.hideLoading(),f(".wowq-swal2-verify #swal2-title").text("Verification"),f(".wowq-swal2-verify .wowq-pinlogin-error").removeClass("hidden"),console.log(e),console.log(t)}})}function c(e,t){var a="";return a+="<li "+(f("#wowqgdpr-current-tab").val()==e?'class="active"':"")+'><a href="#'+e+'" data-toggle="tab" aria-expanded="false">'+t+"</a></li>"}function p(e,t){var a="";return a+='<div role="tabpanel" class="tab-pane '+(f("#wowqgdpr-current-tab").val()==e?"active":"")+'" id="'+e+'">',a+='<div class="row">',a+='<div class="col-lg-12">',a+='<div class="panel panel-default">',a+='<div class="panel-body">',a+=t,a+="</div>",a+="</div>",a+="</div>",a+="</div>",a+="</div>"}function m(e){f("#"+e+' input[type="tel"]').each(function(){var e=f(this);f(e).intlTelInput({initialCountry:"us",separateDialCode:!0,preferredCountries:["us","au","gb"],utilsScript:wowq_gdpr_admin_urls.base_url+"vendor/int-tel-input/js/utils.js",customPlaceholder:function(e,t){return"type your phone number here. eg. "+e}}),setTimeout(function(){""!=f(e).val()&&(f(e).addClass("required"),f(".maonster-form").maonsterForm())},500);f(this).intlTelInput("getSelectedCountryData").iso2;var t=f(this).closest(".maonster-form");f(t).find(".maonster-country").not(".crs-country").data("defaultValue")}),f('#wowqgdpr-tab-content input[type="tel"]').unbind("keyup"),f('#wowqgdpr-tab-content input[type="tel"]').on("keyup",function(e){""!=f(this).val()?f(this).addClass("required"):(f(this).removeClass("required"),f(this).closest(".intl-tel-input").removeClass("has-error")),f(".maonster-form").maonsterForm()})}function u(e){var t="",a="";"update_data"==e.action?(t="Updating Data...",a="Data Updated"):"remove_data"==e.action&&(t="Sending Request...",a="Data Removed"),swal({title:t,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}),swal.showLoading();var s={ajax_nonce:wowq_gdpr_admin_urls.ajax_nonce,action:"gdpr_request",data:e},l=e.crm;f.ajax({url:wowq_gdpr_admin_urls.admin_ajax,type:"post",data:s,dataType:"json",success:function(e){swal.close(),e.status?(swal({type:"success",title:a,showCancelButton:!1,showConfirmButton:!1}).then(function(){"Data Removed"==a&&location.reload(!0)},function(e){"Data Removed"==a&&location.reload(!0)}),"all"==l&&(sessionStorage.wowqpin="",sessionStorage.wowqrid="",sessionStorage.wowqexport="")):swal({type:"error",title:e.error})},error:function(e,t){console.log(e),console.log(t),swal.close()}})}function v(e){f(e.target).prev(".panel-heading").find(".more-less").toggleClass("fa-plus fa-minus"),f(e.target).prev(".panel-heading").hasClass("collapsed")?f(e.target).prev(".panel-heading").find(".panel-title").attr("title","Click to Expand").tooltip("fixTitle").tooltip("hide"):f(e.target).prev(".panel-heading").find(".panel-title").attr("title","Click to Deflate").tooltip("fixTitle").tooltip("hide")}0<f("#wowqgdpr-tab li.active").length?t=f("#wowqgdpr-tab li.active a").attr("href").split("#")[1]:(f('#wowqgdpr-tab li a[href="#wowqdpr-ac"]').parent().addClass("active"),f("#wowqdpr-ac").addClass("active"),r(t)),function(){f("body").addClass("bootstrap-wowq");swal({title:"Verification",html:'<div class=""><div class="form-group"><div id="wowq-pinwrapper"></div></div><div class="form-group"><div class="alert alert-danger wowq-pinlogin-error hidden">Code is invalid.</div></div></div>',showConfirmButton:!1,showCancelButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,customClass:"wowq-swal2-verify"});var t=f("#wowqgdpr-rid").val();sessionStorage.wowqpin&&""!=sessionStorage.wowqpin&&sessionStorage.wowqrid&&""!=sessionStorage.wowqrid&&t==sessionStorage.wowqrid?a(sessionStorage.wowqpin,sessionStorage.wowqrid):f("#wowq-pinwrapper").pinlogin({fields:6,complete:function(e){a(e,t)}})}()}(jQuery);